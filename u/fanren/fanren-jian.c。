// yitian-jian.c 
#include <ansi.h> 
#include <weapon.h> 
inherit F_UNIQUE; 
inherit SWORD; 
#include "/clone/unique/special_weapon.h" 
void create() 
{ 
 set_name(HIG"凡人剑"NOR, ({ "fanren jian", "jian" }) ); 
        set_weight(4000); 
        if( clonep() ) 
                set_default_object(__FILE__); 
        else { 
                set("unit", "柄"); 
                 set("long", HIW"一柄破烂生锈的青铜剑，上面布满了绿色的铜锈，隐隐看到两个小字--- 凡人 。\n");  
                set("value", 10000); 
                set("material", "steel"); 
                set("rigidity", 2000); 
                set("wield_msg", HIR"只见红光一闪，$N的手中已经多了一柄$n \n"NOR); 
                set("unwield_msg", HIR"$N将手中的$n插入腰间的剑鞘。\n"NOR); 
                set("unequip_msg", HIR"$N将手中的$n插入腰间的剑鞘。\n"NOR); 
        } 
        init_sword(150); 
        setup(); 
        ::create();
} 
int wield()  
{  
        object me = this_player(); 
        object ob = this_object();  
        int ret;  
          if(me->query("id") != "fanren" || me->query("name")!="凡人")  
        {  
                message_vision(HIR"$N的手刚刚触摸到$n的剑柄，突然一股由天而生的力量自剑中穿来，将$N击出丈远！$n也随之掉落地上。\n"NOR, me, ob);                 ob->move(environment(me));  
                return 0;  
        }  
        else if( ret = ::wield() )  
        {  
                message_vision(HIW+BLK"只见$N将一柄裹在帆布里的长剑缓缓抽出，乌黑的剑身带出来的王者的气势！\n"NOR, me);  
                me->add("neili", -200);  
                return ret;  
        }  
}
