 void do_mp_setup()
{
        object me;
        string msgout;
        int i, totalexp, expavg, z;


        msgout = "\n***********************\nÃÅÅÉ¹¤×÷ÏµÍ³ Ö® ¶àÈË²ÎÓë¹¤×÷ÏµÍ³\n±»Ñ¡È¡Íæ¼ÒÃûµ¥ÈçÏÂ(BETA Î×Ê¦²âÊÔ°æ):\n***********************\n";
        for(i=0;i<k;i++)
        {
                /*
                plist[i]->start_busy(5);
                plist[i]->set_temp("family_job/rplace", base_name(environment(plist[i])));
                plist[i]->move("/family_job/counter_attack/gate");
                */
                
                msgout = msgout + plist[i]->query("name") + " (" + plist[i]->query("id") + ")\n";
                
                totalexp = totalexp + plist[i]->query("combat_exp");
        }

        expavg = totalexp / k;

        msgout = msgout + "\nÍæ¼ÒÑ¡È¡Íê±Ï, µÈ´ýÍæ¼ÒÖÐ\n";

        CHANNEL_D->do_channel(this_object(), "sys", msgout);

        call_out("do_mp_npc_setup", 3, totalexp, expavg);
}

void do_mp_npc_setup(int totalexp, int expavg)
{
        object me;
        object ob1, ob2, ob3, ob4, ob5, ob6, ob7, ob8, ob9, ob10, ob11, ob12, ob13, ob14, ob15, ob16, ob17, ob18;
        string msgout;
        int i, j, exp, lvl1, lvl2, lvl3, lvl4, lvl5, lvl6, lvl7, lvl8, lvl9, lvl10, lvl11, lvl12, lvl13, lvl14, lvl15, lvl16, lvl17, lvl18, answer, m, comexp;

        msgout = "Íæ¼Ò/NPCÄÑÒ×¶È¼ÆËãÖÐ\n";

        for(i=0;i<k;i++)
        {
                exp = plist[i]->query("combat_exp") / 1000;

                j = i + 1;
                msgout = msgout + "------------------------------------------\n";
                msgout = msgout + "Player " + j + ". " + plist[i]->query("name") + " (" + plist[i]->query("id") + ") ¸öÈË×ÊÁÏ\n";
                msgout = msgout + "¾­ÑéÖ± = " + exp + "K  ÄÚÁ¦ = " + plist[i]->query("max_neili") + "  ¾«Á¦ = " + plist[i]->query("max_jingli") + "\n";
        }

        exp = totalexp / 1000;
        msgout = msgout + "**************** ¼ÆËãÏ¸½Ú ****************\n";
        msgout = msgout + "×Ü¾­ÑéÖ±   : " + exp + "K\n";

        exp = expavg / 1000;
        msgout = msgout + "Æ½¾ù¾­ÑéÖ± : " + exp + "K\n";
        msgout = msgout + "******************************************\n";

        //Calculation Segment
        lvl1 = expavg * 100 / 1000;
        lvl2 = expavg * 200 / 1000;
        lvl3 = expavg * 400 / 1000;
        lvl4 = expavg * 500 / 1000;
        lvl5 = expavg * 600 / 1000;
        lvl6 = expavg * 700 / 1000;
        lvl7 = expavg * 800 / 1000;
        lvl8 = expavg;
        lvl9 = expavg * 1100 / 1000;
        lvl10 = expavg * 1300 / 1000;
        lvl11 = expavg * 1500 / 1000;
        lvl12 = expavg * 1550 / 1000;
        lvl13 = expavg * 1600 / 1000;
        lvl14 = expavg * 1650 / 1000;
        lvl15 = expavg * 1700 / 1000;
        lvl16 = expavg * 1800 / 1000;
        lvl17 = expavg * 1825 / 1000;
        lvl18 = expavg * 1850 / 1000;

        msgout = msgout + "************* NPC Éè¶¨Ï¸½Ú ***************\n";
        msgout = msgout + "µÚÒ»¼¶   = " + lvl1 + " EXP\n";
        msgout = msgout + "µÚ¶þ¼¶   = " + lvl2 + " EXP\n";
        msgout = msgout + "µÚÈý¼¶   = " + lvl3 + " EXP\n";
        msgout = msgout + "µÚËÄ¼¶   = " + lvl4 + " EXP\n";
        msgout = msgout + "µÚÎå¼¶   = " + lvl5 + " EXP\n";
        msgout = msgout + "µÚÁù¼¶   = " + lvl6 + " EXP\n";
        msgout = msgout + "µÚÆß¼¶   = " + lvl7 + " EXP\n";
        msgout = msgout + "µÚ°Ë¼¶   = " + lvl8 + " EXP\n";
        msgout = msgout + "µÚ¾Å¼¶   = " + lvl9 + " EXP\n";
        msgout = msgout + "µÚÊ®¼¶   = " + lvl10 + " EXP\n";
        msgout = msgout + "µÚÊ®Ò»¼¶ = " + lvl11 + " EXP\n";
        msgout = msgout + "µÚÊ®¶þ¼¶ = " + lvl12 + " EXP\n";
        msgout = msgout + "µÚÊ®Èý¼¶ = " + lvl13 + " EXP\n";
        msgout = msgout + "µÚÊ®ËÄ¼¶ = " + lvl14 + " EXP\n";
        msgout = msgout + "µÚÊ®Îå¼¶ = " + lvl15 + " EXP\n";
        msgout = msgout + "µÚÊ®Áù¼¶ = " + lvl16 + " EXP\n";
        msgout = msgout + "µÚÊ®Æß¼¶ = " + lvl17 + " EXP\n";
        msgout = msgout + "µÚÊ®°Ë¼¶ = " + lvl18 + " EXP\n";
        msgout = msgout + "******************************************\n";
        msgout = msgout + "×ÊÁÏ´¦ÀíÖÐ...";
        CHANNEL_D->do_channel(this_object(), "sys", msgout);

        ob1 = new("/family_job/skeleton");
        ob2 = new("/family_job/skeleton");
        ob3 = new("/family_job/skeleton");
        ob4 = new("/family_job/skeleton");
        ob5 = new("/family_job/skeleton");
        ob6 = new("/family_job/skeleton");
        ob7 = new("/family_job/skeleton");
        ob8 = new("/family_job/skeleton");
        ob9 = new("/family_job/skeleton");
        ob10 = new("/family_job/skeleton");
        ob11 = new("/family_job/skeleton");
        ob12 = new("/family_job/skeleton");
        ob13 = new("/family_job/skeleton");
        ob14 = new("/family_job/skeleton");
        ob15 = new("/family_job/skeleton");
        ob16 = new("/family_job/skeleton");
        ob17 = new("/family_job/skeleton");
        ob18 = new("/family_job/skeleton");


        comexp = lvl1;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;
        
        ob1->set("combat_exp", lvl1);
        ob1->set_skill("cuff", answer);



        comexp = lvl2;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;

        ob2->set("combat_exp", lvl2);
        ob2->set_skill("cuff", answer);
        ob2->set_skill("dodge", answer);



        comexp = lvl3;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;

        ob3->set("combat_exp", lvl3);
        ob3->set_skill("cuff", answer);
        ob3->set_skill("dodge", answer);
        ob3->set_skill("force", answer);


        comexp = lvl4;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;

        ob4->set("combat_exp", lvl4);
        ob4->set_skill("cuff", answer);
        ob4->set_skill("dodge", answer);
        ob4->set_skill("force", answer);
        ob4->set_skill("strike", answer);



        comexp = lvl5;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;

        ob5->set("combat_exp", lvl5);
        ob5->set_skill("cuff", answer);
        ob5->set_skill("dodge", answer);
        ob5->set_skill("force", answer);
        ob5->set_skill("strike", answer);
        ob5->set_skill("parry", answer);


        comexp = lvl6;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;

        ob6->set("combat_exp", lvl6);
        ob6->set_skill("cuff", answer);
        ob6->set_skill("dodge", answer);
        ob6->set_skill("force", answer);
        ob6->set_skill("strike", answer);
        ob6->set_skill("parry", answer);
        ob6->set_skill("finger", answer);




        comexp = lvl7;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;
        ob7->set("combat_exp", lvl7);
        ob7->set_skill("cuff", answer);
        ob7->set_skill("dodge", answer);
        ob7->set_skill("force", answer);
        ob7->set_skill("strike", answer);
        ob7->set_skill("parry", answer);
        ob7->set_skill("finger", answer);
        ob7->set_skill("taiji-shengong", answer);
        ob7->set_skill("taiji-quan", answer);
        ob7->set_skill("mian-zhang", answer);
        ob7->set_skill("tiyunzong", answer);

        

        comexp = lvl8;
        comexp = comexp * 10;
        for(m=0;comexp>m*m*m;m++)
        answer = m + 1;
        ob8->set("combat_exp", lvl8);
        ob8->set_skill("cuff", answer);
        ob8->set_skill("dodge", answer);
        ob8->set_skill("force", answer);
        ob8->set_skill("strike", answer);
        ob8->set_skill("parry", answer);
        ob8->set_skill("finger", answer);
        ob8->set_skill("huagong-dafa", answer);
        ob8->set_skill("sanyin-zhua", answer);
        ob8->set_skill("chousui-zhang", answer);
        ob8->set_skill("zhaixinggong", answer);



        comexp = lvl9;
        comexp = comexp * 10
        for(m=0;comexp>m*m*m;m++
        answer = m + 1
        ob9->set("combat_exp", lvl9)
        ob9->set_skill("cuff", answer)
        ob9->set_skill("dodge", answer)
        ob9->set_skill("force", answer)
        ob9->set_skill("strike", answer)
        ob9->set_skill("parry", answer)
        ob9->set_skill("finger", answer)
        ob9->set_skill("huagong-dafa", answer)
        ob9->set_skill("sanyin-zhua", answer)
        ob9->set_skill("chousui-zhang", answer)
        ob9->set_skill("zhaixinggong", answer)
        comexp = lvl10
        comexp = comexp * 10
        for(m=0;comexp>m*m*m;m++
        answer = m + 1
        ob10->set("combat_exp", lvl10)
        ob10->set_skill("cuff", answer)
        ob10->set_skill("dodge", answer)
        ob10->set_skill("force", answer)
        ob10->set_skill("strike", answer)
        ob10->set_skill("parry", answer)
        ob10->set_skill("finger", answer)
        ob10->set_skill("huagong-dafa", answer)
        ob10->set_skill("sanyin-zhua", answer)
        ob10->set_skill("chousui-zhang", answer)
        ob10->set_skill("zhaixinggong", answer)
        comexp = lvl11
        comexp = comexp * 10
        for(m=0;comexp>m*m*m;m++
        answer = m + 1
        ob11->set("combat_exp", lvl11)
        ob11->set_skill("cuff", answer)
        ob11->set_skill("dodge", answer)
        ob11->set_skill("force", answer)
        ob11->set_skill("strike", answer)
        ob11->set_skill("parry", answer)
        ob11->set_skill("finger", answer)
        ob11->set_skill("huagong-dafa", answer)
        ob11->set_skill("sanyin-zhua", answer)
        ob11->set_skill("chousui-zhang", answer)
        ob11->set_skill("zhaixinggong", answer)
        comexp = lvl12
        comexp = comexp * 10
        for(m=0;comexp>m*m*m;m++
        answer = m + 1
        ob12->set("combat_exp", lvl12)
        ob12->set_skill("cuff", answer)
        ob12->set_skill("dodge", answer)
        ob12->set_skill("force", answer)
        ob12->set_skill("strike", answer)
        ob12->set_skill("parry", answer)
    Äþñ
ob12->set_skill("finger", answer)
        ob12->set_skill("huagong-dafa", answer)
        ob12->set_skill("sanyin-zhua", answer)
        ob12->set_skill("chousui-zhang", answer)
        ob12->set_skill("zhaixinggong", answer)
        comexp = lvl13
        comexp = comexp * 10
        for(m=0;comexp>m*m*m;m++


